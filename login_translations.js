// login_translations.js
window.loginTranslations = {
  en: {
    slides: [
      {
        title: "Find out who is selling the car",
        description:
          "Insurance or dealer â€“ visible directly in the Copart and IAAI list",
      },
      {
        title: "See the price the seller wants",
        description: "Reserve bid - one click, no guessing",
      },
      {
        title: "Check car statistics",
        description: "How many sold and at what price.",
      },
    ],
    get_started: "Get Started",
  },
  ru: {
    slides: [
      {
        title: "ðŸ” Ð£Ð·Ð½Ð°Ð¹, ÐºÑ‚Ð¾ Ð¿Ñ€Ð¾Ð´Ð°ÐµÑ‚ Ð°Ð²Ñ‚Ð¾",
        description:
          "Ð¡Ñ‚Ñ€Ð°Ñ…Ð¾Ð²Ð°Ñ Ð¸Ð»Ð¸ Ð´Ð¸Ð»ÐµÑ€ - ÑÑ‚Ð¾ Ð²Ð¸Ð´Ð½Ð¾ Ð¿Ñ€ÑÐ¼Ð¾ Ð² ÑÐ¿Ð¸ÑÐºÐµ Ð½Ð° Copart Ð¸ IAAI",
      },
      {
        title: "ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ñ‚Ðµ Ñ†ÐµÐ½Ñƒ, ÐºÐ¾Ñ‚Ð¾Ñ€ÑƒÑŽ Ñ…Ð¾Ñ‡ÐµÑ‚ Ð¿Ñ€Ð¾Ð´Ð°Ð²ÐµÑ†",
        description: "Ð ÐµÐ·ÐµÑ€Ð²Ð½Ð°Ñ ÑÑ‚Ð°Ð²ÐºÐ° - Ð² Ð¾Ð´Ð¸Ð½ ÐºÐ»Ð¸Ðº, Ð±ÐµÐ· Ð´Ð¾Ð³Ð°Ð´Ð¾Ðº",
      },
      {
        title: "Ð¡Ð¼Ð¾Ñ‚Ñ€Ð¸Ñ‚Ðµ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÑƒ Ð°Ð²Ñ‚Ð¾",
        description: "Ð¡ÐºÐ¾Ð»ÑŒÐºÐ¾ Ð¿Ñ€Ð¾Ð´Ð°Ð»Ð¾ÑÑŒ Ð¸ Ð·Ð° ÐºÐ°ÐºÑƒÑŽ ÑÑƒÐ¼Ð¼Ñƒ.",
      },
    ],
    get_started: "ÐÐ°Ñ‡Ð°Ñ‚ÑŒ",
  },
  ua: {
    slides: [
      {
        title: "ðŸ” Ð”Ñ–Ð·Ð½Ð°Ð¹Ñ‚ÐµÑÑ, Ñ…Ñ‚Ð¾ Ð¿Ñ€Ð¾Ð´Ð°Ñ” Ð°Ð²Ñ‚Ð¾",
        description:
          "Ð¡Ñ‚Ñ€Ð°Ñ…Ð¾Ð²Ð° Ñ‡Ð¸ Ð´Ð¸Ð»ÐµÑ€ - Ð²Ð¸Ð´Ð½Ð¾ Ð¿Ñ€ÑÐ¼Ð¾ Ñƒ ÑÐ¿Ð¸ÑÐºÑƒ Ð½Ð° Copart Ñ‚Ð° IAAI",
      },
      {
        title: "ÐŸÐ¾Ð´Ð¸Ð²Ñ–Ñ‚ÑŒÑÑ Ñ†Ñ–Ð½Ñƒ, ÑÐºÑƒ Ñ…Ð¾Ñ‡Ðµ Ð¿Ñ€Ð¾Ð´Ð°Ð²ÐµÑ†ÑŒ",
        description: "Ð ÐµÐ·ÐµÑ€Ð²Ð½Ð° ÑÑ‚Ð°Ð²ÐºÐ° - Ð² Ð¾Ð´Ð¸Ð½ ÐºÐ»Ñ–Ðº, Ð±ÐµÐ· Ð·Ð´Ð¾Ð³Ð°Ð´Ð¾Ðº",
      },
      {
        title: "ÐŸÐµÑ€ÐµÐ³Ð»ÑÐ´Ð°Ð¹Ñ‚Ðµ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÑƒ Ð°Ð²Ñ‚Ð¾",
        description: "Ð¡ÐºÑ–Ð»ÑŒÐºÐ¸ Ð¿Ñ€Ð¾Ð´Ð°Ð½Ð¾ Ñ– Ð·Ð° ÑÐºÑƒ ÑÑƒÐ¼Ñƒ.",
      },
    ],
    get_started: "ÐŸÐ¾Ñ‡Ð°Ñ‚Ð¸",
  },
  es: {
    slides: [
      {
        title: "ðŸ” Descubre quiÃ©n vende el coche",
        description:
          "Seguro o concesionario - visible directamente en la lista de Copart e IAAI",
      },
      {
        title: "Mira el precio que quiere el vendedor",
        description: "Oferta de reserva - un clic, sin conjeturas",
      },
      {
        title: "Consulta las estadÃ­sticas del coche",
        description: "CuÃ¡ntos se vendieron y a quÃ© precio.",
      },
    ],
    get_started: "Comenzar",
  },
  pl: {
    slides: [
      {
        title: "ðŸ” Dowiedz siÄ™, kto sprzedaje auto",
        description:
          "Ubezpieczenie lub dealer â€“ widoczne bezpoÅ›rednio na liÅ›cie Copart i IAAI",
      },
      {
        title: "Zobacz cenÄ™, jakÄ… chce sprzedawca",
        description: "Rezerwacja - jednym klikniÄ™ciem, bez zgadywania",
      },
      {
        title: "SprawdÅº statystyki samochodu",
        description: "Ile sprzedano i po jakiej cenie.",
      },
    ],
    get_started: "Zaczynam",
  },
};

function applySliderTranslations(lang) {
  const t = window.loginTranslations[lang] || window.loginTranslations["en"];

  if (t.slides && t.slides.length) {
    t.slides.forEach((slide, i) => {
      const titleEl = document.getElementById(`slide${i + 1}_title`);
      const descEl = document.getElementById(`slide${i + 1}_desc`);
      if (titleEl) titleEl.textContent = slide.title;
      if (descEl) descEl.textContent = slide.description;
    });
  }

  const btn = document.getElementById("t_get_started");
  if (btn) btn.textContent = t.get_started;

  // ÐžÐ±Ð½Ð¾Ð²Ð»ÑÐµÐ¼ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ñ ÑÐ·Ñ‹ÐºÐ¾Ð² Ð² ÑÐµÐ»ÐµÐºÑ‚Ðµ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð±Ñ‹Ð»Ð¸ Ñ Ñ„Ð»Ð°Ð³Ð°Ð¼Ð¸
  const langNames = {
    en: "English ðŸ‡¬ðŸ‡§",
    ua: "Ð£ÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ° ðŸ‡ºðŸ‡¦",
    ru: "Ð ÑƒÑÑÐºÐ¸Ð¹ ðŸ‡·ðŸ‡º",
    es: "EspaÃ±ol ðŸ‡ªðŸ‡¸",
    pl: "Polski ðŸ‡µðŸ‡±",
  };
  Object.entries(langNames).forEach(([code, label]) => {
    const opt = document.querySelector(`option[value="${code}"]`);
    if (opt) opt.textContent = label;
  });
}

document.addEventListener("DOMContentLoaded", function () {
  const langSelect = document.getElementById("lang");
  if (!langSelect) return;

  // Ð’Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ð¼ ÑÐ·Ñ‹Ðº Ð¸Ð· localStorage Ð¸Ð»Ð¸ Ð´ÐµÑ„Ð¾Ð»Ñ‚ en
  let savedLang = localStorage.getItem("lang");
  if (!savedLang) {
    const browserLang = (navigator.language || navigator.userLanguage || "en")
      .slice(0, 2)
      .toLowerCase();
    savedLang = ["en", "ru", "ua", "es", "pl"].includes(browserLang)
      ? browserLang
      : "en";
    localStorage.setItem("lang", savedLang);
  }

  langSelect.value = savedLang;
  applySliderTranslations(savedLang);

  // ÐŸÑ€Ð¸ ÑÐ¼ÐµÐ½Ðµ ÑÐ·Ñ‹ÐºÐ° Ð¾Ð±Ð½Ð¾Ð²Ð»ÑÐµÐ¼ Ð»Ð¾ÐºÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸ÑŽ Ð¸ localStorage
  langSelect.addEventListener("change", () => {
    const lang = langSelect.value;
    localStorage.setItem("lang", lang);
    applySliderTranslations(lang);
  });
});
